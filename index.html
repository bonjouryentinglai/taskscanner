<html>
<head>
    <meta charset="utf-8">
    <title>Task scanner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <!-- 條碼顯示的內容顯示在 qr-reader-results -->
    <div id="qr-reader-results"><h1 id="qrtext"></h1></div>
	<!-- 掃描用 -->
    <div id="qr-reader" style="width:100%"></div> 

	<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
	Launch demo modal
	</button> 

	<!-- Modal -->
	<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-fullscreen">
		<div class="modal-content">
		<div class="modal-body">
			<div>
				<h1 class="modal-title" id="exampleModalLabel">Winbond steam blower</h4>
				<h2 class="text-secondary" id="exampleModalLabel2">Customer training</h5>
				</br>
				<div class="d-flex justify-content-between">
					<h4><span class="badge bg-success">T0025</span></h5>
					<h4>李黛咪</h5>
				</div>
			</div>
			<hr/>
			<div>
			</div>
			<div class="d-grid gap-2 col-12 mx-auto">
				<button class="btn btn-primary" type="button" data-bs-dismiss="modal">Material making</button>
				<button class="btn btn-primary" type="button" data-bs-dismiss="modal">HW/SW preparation</button>
				<button class="btn btn-primary" type="button" data-bs-dismiss="modal">Rehearsal</button>

			  </div>
		</div>

		</div>
	</div>
	</div>
	<div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalToggleLabel2">Modal 2</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
			  Hide this modal and show the first with the button below.
			</div>
			<div class="modal-footer">
			  <button class="btn btn-primary" data-bs-target="#exampleModalToggle" data-bs-toggle="modal" data-bs-dismiss="modal">Back to first</button>
			</div>
		  </div>
		</div>
	  </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.0.3/html5-qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script>
	<!-- 呼叫 html5qrcode 代入qr-reader -->
	const html5QrCode = new Html5Qrcode("qr-reader");
	const qrCodeSuccessCallback = (decodedText, decodedResult) => {
	        /* 處理成功掃描 */  
		//document.getElementById("qrtext").innerHTML = decodedText;
		html5QrCode.stop().then((ignore) => {
		  html5QrCode.clear();
		  var myModal = new bootstrap.Modal(document.getElementById('exampleModal'))
		  myModal.show();

		}).catch((err) => {
		  // Stop failed, handle it.
		});
     	};
     	const config = { fps: 10, qrbox: 800 };

	html5QrCode.start({ 
		facingMode: "environment" }, 
	  	config, qrCodeSuccessCallback);

</script> 
</head>
</html>
